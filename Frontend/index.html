<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    div{
        width: 15%;
    }
</style>
<body>
    <h1>ADD Product</h1>
    <div>
        <input type="number" id="id" placeholder="ID Number">
        <input type="text" id="name" placeholder="Name">
        <input type="number" id="price" placeholder="Price">
        <button onclick="addProduct()">Add Product</button>
    </div>
    <h1>ADD User</h1>
    <div>
        <input type="number" id="user_id" placeholder="ID Number">
        <input type="text" id="user_name" placeholder="Name">
        <input type="number" id="age" placeholder="Age">
        <button onclick="addUser()">Add Product</button>
    </div>
    <div>
        <H1>Delete a product by ID</H1>
        <input type="number" id="product_id" placeholder="ID Number">
        <button onclick="deleteProduct()">Delete Product</button>
    </div>
    <div>
        <H1>Delete a User by ID</H1>
        <input type="number" id="delete_user_id" placeholder="ID Number">
        <button onclick="deleteUser()">Delete Product</button>
    </div>
</body>
</html>
<script>
    // async function getData(){
    //     let res = await fetch('http://localhost:5000/api/products')
    //     let data = await res.json();
    //     console.log(data);
    // }

    // getData();

    async function addProduct(){
        let data = {
            id:document.getElementById("id").value,
            name:document.getElementById("name").value,
            price:document.getElementById("price").value,
        };

        try{
            let response = await fetch("http://localhost:5000/api/products",{
                method: "POST",
                body:JSON.stringify(data),
                headers:{
                    "Content-Type": "application/json",
                },
            });
            let d = await response.json();
            console.log(d);
        } catch (e){
            console.log(e);
        }
        }

        async function addUser(){
        let data = {
            id:document.getElementById("user_id").value,
            user_name:document.getElementById("user_name").value,
            age:document.getElementById("age").value,
        };

        try{
            let response = await fetch("http://localhost:5000/api/users",{
                method: "POST",
                body:JSON.stringify(data),
                headers:{
                    "Content-Type": "application/json",
                },
            });
            let d = await response.json();
            console.log(d);
        } catch (e){
            console.log(e);
        }
        }
  
    async function deleteProduct(){
        let id = document.getElementById("product_id").value;
        let response = await fetch(`http://localhost:5000/api/products/${id}`,{
            method: "DELETE",
            headers:{
                    "Content-Type": "application/json",
            },
        })
    }

    async function deleteUser(){
        let id = document.getElementById("delete_user_id").value;
        let response = await fetch(`http://localhost:5000/api/users/${id}`,{
            method: "DELETE",
            headers:{
                    "Content-Type": "application/json",
            },
        })
    }
</script>